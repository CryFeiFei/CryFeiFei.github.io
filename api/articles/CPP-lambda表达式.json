{"title":"CPP lambda表达式","slug":"CPP-lambda表达式","date":"2020-06-27T07:34:43.000Z","updated":"2020-06-27T07:42:29.959Z","comments":true,"path":"api/articles/CPP-lambda表达式.json","excerpt":null,"covers":null,"content":"<p>其实一直有个疑问，就是lambda表达式捕获this变量的时候是不是引用传递。想用代码测试下是不是引用传递。生怕有拷贝构造函数啊！</p>\n<pre><code>    m_test1 = 1;  //成员便来嗯\n    auto fTest = [this]()\n    {\n        this-&gt;m_test1 = 3;\n    };\n    fTest();\n    qDebug()&lt;&lt;this-&gt;m_test1&lt;&lt;endl;</code></pre><p>发现输出3。看来是引用传递，也就是指针传递。</p>\n<p>本质this就是个指针嘛。</p>\n<p>stackoverflow上有个答案总结的很好了</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/16323032/why-cant-i-capture-this-by-reference-this-in-lambda\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/16323032/why-cant-i-capture-this-by-reference-this-in-lambda</a></li>\n</ul>\n","more":"<p>其实一直有个疑问，就是lambda表达式捕获this变量的时候是不是引用传递。想用代码测试下是不是引用传递。生怕有拷贝构造函数啊！</p>\n<pre><code>    m_test1 = 1;  //成员便来嗯\n    auto fTest = [this]()\n    {\n        this-&gt;m_test1 = 3;\n    };\n    fTest();\n    qDebug()&lt;&lt;this-&gt;m_test1&lt;&lt;endl;</code></pre><p>发现输出3。看来是引用传递，也就是指针传递。</p>\n<p>本质this就是个指针嘛。</p>\n<p>stackoverflow上有个答案总结的很好了</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/16323032/why-cant-i-capture-this-by-reference-this-in-lambda\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/16323032/why-cant-i-capture-this-by-reference-this-in-lambda</a></li>\n</ul>\n","categories":[],"tags":[{"name":"cpp","path":"api/tags/cpp.json"},{"name":"lambda","path":"api/tags/lambda.json"}]}