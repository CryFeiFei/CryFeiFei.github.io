{"title":"Qt中报错error: allocation of incomplete type 'Ui::‘","slug":"Qt中报错error-allocation-of-incomplete-type-Ui-‘","date":"2020-06-27T07:17:43.000Z","updated":"2020-06-27T07:18:38.844Z","comments":true,"path":"api/articles/Qt中报错error-allocation-of-incomplete-type-Ui-‘.json","excerpt":null,"covers":null,"content":"<p>每次在Qt中单独添加UI文件的时候，都会遇到这个问题。需要注意这么几点<br>切记要与类名保持一致<br>举个栗子我的类名叫</p>\n<pre><code>CMainWidget</code></pre><p>那我的文件名就叫</p>\n<pre><code>cmainwidget.h\ncmainwidget.cpp</code></pre><p>那需要在cmainwidget.h头文件中添加</p>\n<pre><code>namespace Ui {\nclass cmainwidget;\n}</code></pre><p>在cmainwidget.cpp添加</p>\n<pre><code>#include &quot;ui_cmainwidget.h&quot;</code></pre><p>添加私有成员变量</p>\n<pre><code>private:\n    Ui::cmainwidget* ui;</code></pre><p>初始化成员变量</p>\n<pre><code>    ui(new Ui::cmainwidget)</code></pre><p>构造函数中</p>\n<pre><code>    ui-&gt;setupUi(this);</code></pre><h2 id=\"最重要的一点\"><a href=\"#最重要的一点\" class=\"headerlink\" title=\"最重要的一点\"></a>最重要的一点</h2><p><em>最后一条，别忘了把cmainwidget.ui中的widget名字改成cmainwidget，这个最重要！</em></p>\n","more":"<p>每次在Qt中单独添加UI文件的时候，都会遇到这个问题。需要注意这么几点<br>切记要与类名保持一致<br>举个栗子我的类名叫</p>\n<pre><code>CMainWidget</code></pre><p>那我的文件名就叫</p>\n<pre><code>cmainwidget.h\ncmainwidget.cpp</code></pre><p>那需要在cmainwidget.h头文件中添加</p>\n<pre><code>namespace Ui {\nclass cmainwidget;\n}</code></pre><p>在cmainwidget.cpp添加</p>\n<pre><code>#include &quot;ui_cmainwidget.h&quot;</code></pre><p>添加私有成员变量</p>\n<pre><code>private:\n    Ui::cmainwidget* ui;</code></pre><p>初始化成员变量</p>\n<pre><code>    ui(new Ui::cmainwidget)</code></pre><p>构造函数中</p>\n<pre><code>    ui-&gt;setupUi(this);</code></pre><h2 id=\"最重要的一点\"><a href=\"#最重要的一点\" class=\"headerlink\" title=\"最重要的一点\"></a>最重要的一点</h2><p><em>最后一条，别忘了把cmainwidget.ui中的widget名字改成cmainwidget，这个最重要！</em></p>\n","categories":[],"tags":[{"name":"Qt","path":"api/tags/Qt.json"},{"name":"error","path":"api/tags/error.json"}]}