{"title":"QFontDatabase: Cannot find font directory","slug":"QFontDatabase-Cannot-find-font-directory","date":"2020-06-27T06:54:45.000Z","updated":"2020-06-27T06:58:32.781Z","comments":true,"path":"api/articles/QFontDatabase-Cannot-find-font-directory.json","excerpt":null,"covers":null,"content":"<p>QFontDatabase: Cannot find font directory qt5 </p>\n<p>按照提示，在安装目录中 lib文件夹下新建个fonts文件夹，把字体拷贝进去就行。</p>\n<pre class=\" language-cpp\"><code class=\"language-cpp\">QString fontPath <span class=\"token operator\">=</span> <span class=\"token string\">\":/fonts/MyFont.ttf\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">int</span> fontId <span class=\"token operator\">=</span> QFontDatabase<span class=\"token operator\">::</span><span class=\"token function\">addApplicationFont</span><span class=\"token punctuation\">(</span>fontPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fontId <span class=\"token operator\">!=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    QFont <span class=\"token function\">font</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MyFont\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span>font<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n","more":"<p>QFontDatabase: Cannot find font directory qt5 </p>\n<p>按照提示，在安装目录中 lib文件夹下新建个fonts文件夹，把字体拷贝进去就行。</p>\n<pre><code class=\"cpp\">QString fontPath = &quot;:/fonts/MyFont.ttf&quot;;\nint fontId = QFontDatabase::addApplicationFont(fontPath);\nif (fontId != -1)\n{\n    QFont font(&quot;MyFont&quot;);\n    app.setFont(font);\n}</code></pre>\n","categories":[],"tags":[{"name":"Qt","path":"api/tags/Qt.json"},{"name":"QFontDatabase","path":"api/tags/QFontDatabase.json"}]}